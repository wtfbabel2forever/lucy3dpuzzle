<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lucy 3D Puzzle</title>
<style>
  html,body { height:100%; margin:0; background:#0b1020; font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; color:#e8eefc; }
  .container { max-width:96vw; margin:20px auto; padding:20px; }
  h1 { text-align:center; margin-bottom:20px; font-size:24px; }
  .puzzle-container { position:relative; width:100%; max-width:800px; margin:0 auto; min-height:300px; display:flex; align-items:center; justify-content:center; }
  .puzzle-piece { 
    position:absolute; 
    cursor:pointer; 
    border:2px solid #33406a; 
    border-radius:8px; 
    box-shadow:0 4px 12px rgba(0,0,0,0.5); 
    transition:transform 0.2s ease, box-shadow 0.2s ease;
    background:#1a2446;
    overflow:hidden;
    opacity:0;
    transform:scale(0.9);
  }
  .puzzle-piece.loaded { 
    opacity:1; 
    transform:scale(1);
  }
  .puzzle-piece:hover { 
    transform:scale(1.02); 
    box-shadow:0 6px 16px rgba(124,245,255,0.3);
  }
  .puzzle-piece.selected { 
    border-color:#7cf5ff; 
    box-shadow:0 6px 16px rgba(124,245,255,0.5);
  }
  .controls { display:flex; justify-content:center; gap:10px; margin:20px 0; flex-wrap:wrap; }
  button { 
    padding:8px 16px; 
    border:none; 
    border-radius:8px; 
    background:#1a2446; 
    color:#e8eefc; 
    cursor:pointer; 
    font-weight:bold;
  }
  button:hover { background:#212d58; }
  .status { text-align:center; margin:10px 0; font-size:14px; }
  .debug { 
    position:fixed; right:10px; top:10px; z-index:9999; 
    background:rgba(0,0,0,0.6); color:#fff; padding:8px 10px; 
    border-radius:10px; font-size:12px; line-height:1.4; max-width:60vw;
  }
  .debug b { color:#7cf5ff; }
  .debug .close { margin-left:8px; cursor:pointer; opacity:.8; }
  
  /* 3D effect for puzzle pieces */
  .puzzle-piece::before {
    content:'';
    position:absolute;
    top:0; left:0; right:0; bottom:0;
    background:linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.1) 100%);
    pointer-events:none;
    border-radius:8px;
  }
  
  /* Loading state */
  .loading { 
    text-align:center; 
    padding:40px; 
    font-size:18px; 
    color:#7cf5ff; 
    animation: pulse 1s infinite ease-in-out;
  }
  @keyframes pulse {
    0% { opacity: 0.7; }
    50% { opacity: 1; }
    100% { opacity: 0.7; }
  }
  
  /* Error state */
  .error { 
    text-align:center; 
    padding:40px; 
    font-size:18px; 
    color:#ff9aa2; 
  }
</style>
</head>
<body>
  <div class="debug">Checking images...</div>
  <div class="container">
    <h1>üê± Lucy 3D Puzzle Game
